<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FM8/R User Manual</title>
    <style>
        :root {
            --accent-color: #FFB800;
            --bg-chassis: #101114;
            --bg-panel: #1A1C20;
            --border-color: #2A2E33;
            --text-light: #DCE0E6;
            --text-dark: #111111;
            --text-muted: #6A7185;
            --border-color-light: #484D5C;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-light);
            background-color: var(--bg-chassis);
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }
        .sidebar {
            width: 224px; /* w-56 */
            flex-shrink: 0;
            background-color: #16181C; /* Darker panel */
            border-right: 1px solid var(--border-color);
            padding: 1rem;
            overflow-y: auto;
        }
        .sidebar h2 {
            font-size: 1.2em;
            color: var(--text-light);
            margin-top: 0;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .sidebar ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .sidebar li {
            margin-bottom: 0.5rem;
        }
        .sidebar a {
            display: block;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            text-decoration: none;
            color: var(--text-muted);
            font-weight: 500;
            font-size: 0.875rem;
            transition: all 0.2s ease;
        }
        .sidebar a:hover {
            background-color: var(--border-color);
            color: var(--text-light);
        }
        .content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 2rem;
        }
        h1, h2, h3, h4 {
            border-bottom: 1px solid var(--border-color-light);
            padding-bottom: 0.5rem;
            margin-top: 1.5rem;
        }
        h1 { font-size: 2.5em; color: var(--accent-color); }
        h2 { font-size: 1.8em; color: var(--accent-color); }
        h3 { font-size: 1.5em; }
        h4 { 
            font-size: 1.1em;
            color: var(--text-light);
            border-bottom: none;
            margin-top: 1.2rem;
            margin-bottom: 0.5rem;
        }
        p { margin-bottom: 1rem; }
        ul, ol { margin-left: 1.5rem; margin-bottom: 1rem; }
        li { margin-bottom: 0.5rem; }
        code, kbd {
            background-color: var(--border-color);
            color: #E0E6F0;
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-family: 'Roboto Mono', monospace;
        }
        kbd {
            border: 1px solid var(--border-color-light);
            padding: 0.3em 0.5em;
        }
        a {
            color: #81A1C1;
            text-decoration: none;
        }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <nav class="sidebar">
        <h2>Manual Sections</h2>
        <ul>
            <li><a href="#welcome">Welcome</a></li>
            <li><a href="#sequencer">Sequencer</a></li>
            <li><a href="#instrument-editor">Instrument Editor</a></li>
            <li><a href="#sound-engines">Sound Engines</a></li>
            <li><a href="#mixer-pianoroll">Mixer & Piano Roll</a></li>
            <li><a href="#effects-rack">Effects Rack</a></li>
            <li><a href="#song-mode">Song Mode</a></li>
            <li><a href="#export-share">Export & Share</a></li>
            <li><a href="#store">Store</a></li>
            <li><a href="#license">License</a></li>
            <li><a href="#midi">MIDI</a></li>
            <li><a href="#shortcuts">Shortcuts</a></li>
        </ul>
    </nav>
    <main class="content">
        <h1>FM8/R User Manual</h1>

        <div id="welcome">
            <h2>Welcome to FM8/R</h2>
            <p>FM8/R is a powerful groovebox designed for modern electronic music production, with a focus on techno and related genres. This guide will walk you through the main features to get you started.</p>
        </div>

        <div id="sequencer">
            <h2>The Sequencer</h2>
            <p>The sequencer is where you create your patterns. Each row represents a track, and the grid represents time.</p>
            <ul>
                <li><strong>Creating Trigs:</strong> Click on a step in the grid to activate it. A lit step will trigger a sound.</li>
                <li><strong>Track Selection:</strong> Click on a track's header on the left to select it for editing in the Instrument Editor.</li>
                <li><strong>P-Locks (Parameter Locks):</strong> Enable <span style="color: #22d3ee; font-weight: bold;">P-LOCK</span> mode. Now, when you select a step, you can use the knobs at the bottom to change parameters for that step only. This is key for creating dynamic and evolving patterns.</li>
                <li><strong>Pattern Controls:</strong> Use the controls above the grid to change patterns, set pattern length, randomize, and generate Euclidean rhythms.</li>
                <li><strong>Piano Roll:</strong> Click the piano icon in the top-left of the sequencer to switch to the Piano Roll view for melodic sequencing.</li>
            </ul>
        </div>

        <div id="instrument-editor">
            <h2>Instrument Editor</h2>
            <p>This is where you design the sound for the currently selected track. Each track has a unique sound engine.</p>
            <ul>
                <li><strong>Knobs:</strong> Drag vertically on a knob to change its value. Hold <kbd>Shift</kbd> while dragging for fine control. Double-click a knob's value to type in a number.</li>
                <li><strong>Presets:</strong> Use the Instrument Preset manager at the top of the editor to save, load, and randomize sounds for the current track type.</li>
                <li><strong>Automation:</strong> Click the <span style="color: #ef4444; font-weight: bold;">REC AUTOM</span> button to record knob movements into your pattern or song.</li>
            </ul>
        </div>
        
        <div id="sound-engines">
            <h2>Sound Engines (The 8 Instruments)</h2>
            <p>Each track runs a specialized synthesizer. Understanding them is the key to mastering sound design in FM8/R.</p>
            <ul>
                <li>
                    <h4>Kick: The Foundation</h4>
                    <p>A dedicated kick drum synthesizer. Perfect for everything from deep, resonant sub-basses to hard-hitting techno punches. Key parameters include <code>Tune</code> (pitch), <code>Decay</code> (length), <code>Impact</code> (the initial click or "beater" sound), and <code>Character</code> (saturation/distortion).</p>
                </li>
                 <li>
                    <h4>Hat: Rhythmic Texture</h4>
                    <p>A versatile noise-based percussion synth. Ideal for hi-hats, shakers, and noise textures. <code>Tone</code> adjusts the core frequency, <code>Character</code> adds metallic quality, and <code>Spread</code> creates stereo width by detuning internal oscillators.</p>
                </li>
                 <li>
                    <h4>Arcane: Digital Playground</h4>
                    <p>A dual-oscillator synth specializing in Phase Modulation (PM) and wavefolding. Capable of complex digital tones, bells, and aggressive leads. The <code>Mode</code> switch changes how the oscillators interact (PM, Additive, Ring Mod, Hard Sync), while <code>Mod Amount</code> and <code>Fold</code> are your main tools for sonic exploration.</p>
                </li>
                 <li>
                    <h4>Ruin: Destructive Synthesis</h4>
                    <p>A synth designed for chaos. It excels at aggressive basses, distorted leads, and industrial noise. The core is the <code>Algorithm</code> parameter, which selects different methods of feedback, distortion, and folding. <code>Timbre</code>, <code>Drive</code>, and <code>Fold</code> add layers of grit and destruction.</p>
                </li>
                 <li>
                    <h4>Artifice: Sound Designer's Dream</h4>
                    <p>The most complex engine. It features two oscillators with FM, a noise source, and a powerful dual filter that can run in series or parallel. Excellent for intricate pads, sharp plucks, evolving textures, and experimental sounds. The interaction between the <code>Osc Mix</code>, <code>Noise Level</code>, and the dual filter controls (<code>Cutoff, Reso, Spread</code>) is where the magic happens.</p>
                </li>
                 <li>
                    <h4>Shift: Wavetable Synthesis</h4>
                    <p>A modern wavetable synth. The <code>Table</code> parameter selects a set of waveforms, and <code>Position</code> smoothly scans through them. <code>Bend</code> and <code>Twist</code> further warp the fabric of the sound. Ideal for evolving pads, complex modern tones, and sounds with intricate timbral movement.</p>
                </li>
                <li>
                    <h4>Reson: Physical Modeling</h4>
                    <p>A physical modeling resonator that simulates the sound of an object being struck. It doesn't use traditional oscillators. Instead, an "exciter" (a noise burst or impulse) strikes a virtual object. Parameters like <code>Structure</code> (inharmonicity), <code>Brightness</code>, <code>Decay</code>, and <code>Material</code> define the object's properties. Perfect for realistic (and unrealistic) bells, woodblocks, and metallic percussion.</p>
                </li>
                <li>
                    <h4>Alloy: Classic FM</h4>
                    <p>A classic 2-operator FM (Frequency Modulation) synthesizer. A simple but powerful way to get classic digital sounds. The <code>Ratio</code> control sets the frequency relationship between the two operators, which is the key to creating different timbres. The <code>Modulator Envelope</code> (Mod Level/Decay) defines how the sound changes over time. Famous for bells, electric pianos, and sharp, punchy basses.</p>
                </li>
            </ul>
        </div>

        <div id="mixer-pianoroll">
            <h2>Mixer & Piano Roll Panel</h2>
            <p>This central bottom panel can be switched between two views.</p>
            <ul>
                <li><strong>Mixer:</strong> Adjust volume, pan, and FX sends for each track. Mute and solo tracks to focus on specific elements.</li>
                <li><strong>Piano Roll:</strong> When enabled via the sequencer toolbar, this view allows for detailed melodic and chordal sequencing for the selected track. You can adjust note pitch, velocity, and duration.</li>
            </ul>
        </div>

        <div id="effects-rack">
            <h2>Effects Rack</h2>
            <p>The global effects on the right process the entire mix, adding space, texture, and punch.</p>
            <ul>
                <li><strong>Sends:</strong> Each track has sends for Reverb, Delay, and Drive.</li>
                <li><strong>Master Chain:</strong> The signal goes through a Master Filter, Character (saturation/distortion), a master Compressor, and finally a Limiter. Use these to glue your mix together.</li>
            </ul>
        </div>
        
        <div id="song-mode">
            <h2>Song Mode & Arrangement</h2>
            <p>Switch from PATTERN to SONG view in the top transport controls to arrange your patterns into a full track.</p>
            <ul>
                <li><strong>Clips:</strong> In Song mode, the sequencer becomes an arrangement view. You can place clips, which are instances of your patterns, on the timeline.</li>
                <li><strong>Adding Clips:</strong> Enable "ADD PATTERN" mode, select a pattern number, and click on a track's lane in the timeline to place it.</li>
                <li><strong>Editing Clips:</strong> Click a clip to select it. Drag to move it, or drag its right edge to change its duration. Press <kbd>Delete</kbd> or <kbd>Backspace</kbd> to remove the selected clip.</li>
            </ul>
        </div>

        <div id="export-share">
            <h2>Export & Share</h2>
            <p>Finalize and share your work using the dedicated modals.</p>
            <ul>
                <li><strong>Export:</strong> Render your project as high-quality WAV files. You can export the full stereo master or individual track "stems" for mixing in a traditional DAW.</li>
                <li><strong>Share Jam:</strong> This powerful feature lets you either record a video of your loop with a cool visualizer for social media, or generate a unique URL that contains your entire project. Anyone with the link can listen to your jam instantly.</li>
            </ul>
        </div>

        <div id="store">
            <h2>Expansion Packs & Store</h2>
            <p>Expand your sonic palette by visiting the Store.</p>
            <ul>
                <li><strong>Install Packs:</strong> The Store contains official and custom expansion packs. Installing a pack adds its projects and instrument presets to your library, ready to be used and remixed.</li>
            </ul>
        </div>

        <div id="license">
            <h2>License & Viewer Mode</h2>
            <p>FM8/R operates in a limited "Viewer Mode" by default.</p>
            <ul>
                <li><strong>Limitations:</strong> In Viewer Mode, only the first 3 sound engines are available, and Song Mode is disabled.</li>
                <li><strong>Unlock Full Version:</strong> To unlock all 8 sound engines and all features, please consider purchasing a license. Your support makes future development possible!</li>
            </ul>
        </div>

        <div id="midi">
            <h2>MIDI</h2>
            <p>Integrate FM8/R with your hardware setup.</p>
            <ul>
                <li><strong>MIDI Learn:</strong> In the Settings modal, you can enable MIDI Learn mode to easily map knobs and buttons on your controller to almost any parameter in the app.</li>
                <li><strong>MIDI Sync:</strong> You can configure FM8/R to send or receive MIDI clock signals to synchronize its tempo with external drum machines, synthesizers, or your DAW.</li>
            </ul>
        </div>

        <div id="shortcuts">
            <h2>Shortcuts</h2>
            <ul>
                <li><kbd>Spacebar</kbd>: Play / Pause</li>
                <li><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>: Copy current pattern</li>
                <li><kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>V</kbd>: Paste copied pattern</li>
                <li><kbd>Ctrl/Cmd</kbd> + <kbd>C</kbd>: Copy selected step (in P-Lock mode)</li>
                <li><kbd>Ctrl/Cmd</kbd> + <kbd>V</kbd>: Paste copied step (in P-Lock mode)</li>
            </ul>
        </div>
    </main>
</body>
</html>
